<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tarot Mirror - ÊØèÊó•Â°îÁΩó</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/tarot-module.css">
    <link rel="stylesheet" href="css/profile.css">
    <link rel="stylesheet" href="css/miri-chat.css">
</head>
<body>
    <!-- È°µÈù¢1: ÊØèÊó•Âç†ÂçúÈ°µÈù¢ÔºàÊÉÖÁª™ÈÄâÊã© + ÊäΩÁâåÔºâ -->
    <div id="daily-reading-page" class="page active">
        <div class="daily-reading-content">
            <h1 class="page-title">ÂºÄÂßã‰ªäÊó•Âç†Âçú</h1>
            
            <!-- ÈÄâÊã©ÊÉÖÁª™Áä∂ÊÄÅ -->
            <div class="emotion-section">
                <h2 class="section-subtitle">ÈÄâÊã©‰Ω†‰ªäÊó•ÁöÑÂÜÖÂú®Áä∂ÊÄÅ</h2>
                <div class="emotion-slider-container">
                    <div class="emotion-slider" id="emotion-slider">
                        <div class="emotion-track">
                            <div class="emotion-markers">
                                <div class="emotion-marker" data-value="0">
                                    <img src="weather/1.png" alt="Èò≥ÂÖâ" class="weather-icon" data-weather="1">
                                    <span class="label">ÊÑâÊÇ¶</span>
                                </div>
                                <div class="emotion-marker" data-value="1">
                                    <img src="weather/2.png" alt="Â§ö‰∫ë" class="weather-icon" data-weather="2">
                                    <span class="label">Âπ≥Èùô</span>
                                </div>
                                <div class="emotion-marker" data-value="2">
                                    <img src="weather/3.png" alt="Èò¥Â§©" class="weather-icon" data-weather="3">
                                    <span class="label">Áñ≤ÊÉ´</span>
                                </div>
                                <div class="emotion-marker" data-value="3">
                                    <img src="weather/4.png" alt="Â∞èÈõ®" class="weather-icon" data-weather="4">
                                    <span class="label">Ëø∑Ëå´</span>
                                </div>
                                <div class="emotion-marker" data-value="4">
                                    <img src="weather/5.png" alt="Â§ßÈõ®" class="weather-icon" data-weather="5">
                                    <span class="label">ÁÑ¶Ëôë</span>
                                </div>
                            </div>
                            <input type="range" id="emotion-input" min="0" max="4" value="1" step="1" class="slider-input">
                            <div class="slider-thumb" id="slider-thumb">
                                <img src="weather/2.png" alt="ÂΩìÂâçÁä∂ÊÄÅ" class="current-weather-icon">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ÊäΩÁâåÂå∫Âüü -->
            <div class="card-section">
                <h2 class="section-subtitle">ÊäΩÂèñ‰Ω†ÁöÑ‰ªäÊó•Â°îÁΩó</h2>
                <div class="card-draw-container">
                    <div class="card-pile" id="card-pile">
                        <img src="Cards-png/CardBacks.png" alt="Â°îÁΩóÁâåÂ†Ü" class="card-back">
                        <div class="draw-hint">
                            <p>ÁÇπÂáªÁâåÂ†ÜÊäΩÁâå</p>
                        </div>
                    </div>
                    <div class="drawn-card-container" id="drawn-card-container" style="display: none;">
                        <div class="card-flip">
                            <img id="drawn-card-img" src="" alt="‰ªäÊó•Â°îÁΩó" class="drawn-card">
                        </div>
                        <div class="card-name" id="card-name"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- È°µÈù¢2: Loading ÁïåÈù¢ -->
    <div id="loading-page" class="page" style="display: none;">
        <div class="loading-container">
            <!-- ÊòæÁ§∫ÊäΩÂà∞ÁöÑÂ°îÁΩóÁâå -->
            <div class="loading-card-container" id="loading-card-container">
                <div class="loading-card-flip">
                    <img id="loading-card-img" src="" alt="‰ªäÊó•Â°îÁΩó" class="loading-card">
                </div>
                <div class="loading-card-name" id="loading-card-name"></div>
            </div>
            
            <!-- ÁîüÊàê‰∏≠Âä®ÁîªÂíåÊñáÂ≠ó -->
            <div class="loading-status">
                <div class="loading-animation">
                    <div class="loading-dot"></div>
                    <div class="loading-dot"></div>
                    <div class="loading-dot"></div>
                </div>
                <p class="loading-text">Ê≠£Âú®ÁîüÊàê‰Ω†ÁöÑ‰ªäÊó•ÊåáÂºï...</p>
                <p class="loading-subtext">ÁªìÂêàÂ°îÁΩó‰∏éÊúàÁõ∏Ôºå‰∏∫‰Ω†ÂÆöÂà∂‰∏ìÂ±ûÊåáÂºï</p>
            </div>
        </div>
    </div>

    <!-- È°µÈù¢3: Êó•ÂéÜÁïåÈù¢ÔºàÂõûÈ°æ/Á≠æÂà∞Ôºâ -->
    <div id="calendar-page" class="page" style="display: none;">
        <div class="calendar-container">
            <!-- Êó•ÂéÜÊ®°ÂºèÂàáÊç¢ÊåâÈíÆÔºàÁßªÂä®Á´ØÊòæÁ§∫Âú®È°∂ÈÉ®Ôºâ -->
            <div class="calendar-mode-switcher">
                <button class="calendar-mode-btn active" id="moon-calendar-btn" data-mode="moon">
                    <span class="btn-icon">üåô</span>
                    <span class="btn-text">ÊúàÁõ∏Êó•ÂéÜ</span>
                </button>
                <button class="calendar-mode-btn" id="mood-calendar-btn" data-mode="mood">
                    <span class="btn-icon">üòä</span>
                    <span class="btn-text">Áä∂ÊÄÅÊó•ÂéÜ</span>
                </button>
            </div>
            
            <div class="calendar-header">
                <button class="calendar-nav-btn" id="cal-prev-btn" aria-label="Previous month">‚Äπ</button>
                <div class="calendar-header-center">
                    <div class="calendar-month-title" id="cal-month-title">January 2026</div>
                    <div class="calendar-streak" id="cal-streak">Streak: 0</div>
                </div>
                <button class="calendar-nav-btn" id="cal-next-btn" aria-label="Next month">‚Ä∫</button>
            </div>

            <div class="calendar-weekdays">
                <div class="weekday">Sun</div>
                <div class="weekday">Mon</div>
                <div class="weekday">Tue</div>
                <div class="weekday">Wed</div>
                <div class="weekday">Thu</div>
                <div class="weekday">Fri</div>
                <div class="weekday">Sat</div>
            </div>

            <div class="calendar-grid" id="calendar-grid"></div>
        </div>
    </div>

    <!-- È°µÈù¢3: Â°îÁΩó‰∏ìÈ°πÂç†Âçú -->
    <!-- Â°îÁΩóÊ®°Âùó - ‰∏â‰∏™ÁïåÈù¢ -->
    <div id="tarot-page" class="page" style="display: none;">
        <!-- ÁïåÈù¢aÔºöÊèêÈóÆÁïåÈù¢ -->
        <div id="tarot-question-view" class="tarot-view active">
            <div class="tarot-module-container">
                <!-- ÁâπËâ≤ÊñáÂ≠ó -->
                <div class="tarot-slogan">
                    <h2 class="tarot-slogan-text">‰∏ÄÊ¨°Â°îÁΩóÔºåÊåÅÁª≠Ëß£ËØªÔºåÂÖ®Á®ãË∑üËøõ„ÄÇ</h2>
                </div>
                
                <!-- ÈóÆÈ¢òËæìÂÖ•Âå∫ -->
                <div class="tarot-question-section">
                    <textarea 
                        id="tarot-question-input" 
                        class="tarot-question-input" 
                        placeholder="ÊàëËØ•‰∏çËØ•Êç¢Â∑•‰ΩúÔºüÊàë‰ª¨ÁöÑÂÖ≥Á≥ª‰ºöÂ¶Ç‰ΩïÂèëÂ±ïÔºü"
                        rows="4"
                        maxlength="200"
                    ></textarea>
                    <div class="tarot-question-actions">
                        <button id="tarot-start-btn" class="tarot-start-btn" disabled>ÂºÄÂßãÂç†Âçú</button>
                    </div>
                </div>
                
                <!-- ÂéÜÂè≤Âç†ÂçúÁªìÊûúÂàóË°® -->
                <div id="tarot-history-container" class="tarot-history-container">
                    <h3 class="tarot-history-title">ÂéÜÂè≤Âç†Âçú</h3>
                    <div id="tarot-history-list" class="tarot-history-list"></div>
                </div>
            </div>
        </div>
        
        <!-- ÁïåÈù¢bÔºöÊäΩÁâåÁïåÈù¢ -->
        <div id="tarot-draw-view" class="tarot-view" style="display: none;">
            <div class="tarot-module-container">
                <!-- ÁâåÈòµÂàáÊç¢Âå∫ -->
                <div class="tarot-spread-selector">
                    <div class="spread-buttons">
                        <button class="spread-type-btn active" data-spread="3Âº†">3Âº†</button>
                        <button class="spread-type-btn" data-spread="4Âº†">4Âº†</button>
                        <button class="spread-type-btn" data-spread="6Âº†">6Âº†</button>
                    </div>
                </div>
                
                <!-- ÁâåÈòµÂ±ïÁ§∫Âå∫ -->
                <div id="tarot-spread-container" class="tarot-spread-container spread-grid-3"></div>
                
                <!-- ÊäΩÁâåÂå∫ -->
                <div class="tarot-draw-area">
                    <div id="tarot-card-pile" class="tarot-card-pile" style="display: block;">
                        <img src="Cards-png/CardBacks.png" alt="ÁâåÂ†Ü" class="pile-image">
                        <div class="pile-hint">ÁÇπÂáªÊäΩÁâå</div>
                    </div>
                    <button id="tarot-reading-btn" class="tarot-reading-btn" style="display: none;">
                        üîÆ Âç†ÂçúËß£ËØª
                    </button>
                </div>
            </div>
        </div>
        
        <!-- ÁïåÈù¢cÔºöËß£ËØªÁïåÈù¢ -->
        <div id="tarot-reading-view" class="tarot-view" style="display: none;">
            <div class="tarot-module-container">
                <!-- ËøîÂõûÊåâÈíÆ -->
                <button id="tarot-back-btn" class="tarot-back-btn">‚Üê ËøîÂõû</button>
                
                <!-- Âç†ÂçúÁªìÊûúÊòæÁ§∫Âå∫ -->
                <div id="tarot-result-area" class="tarot-result-area"></div>
                
                <!-- Â§çÁõòÂÜÖÂÆπÊòæÁ§∫Âå∫ÔºàÂ§çÁõòÂêéÊòæÁ§∫Ôºâ -->
                <div id="tarot-review-display" class="tarot-review-display" style="display: none;"></div>
                
                <!-- Ë°•ÂÖÖËÅäÂ§©Âå∫ -->
                <div id="tarot-chat-area" class="tarot-chat-area">
                    <div class="chat-header">
                        <div class="chat-title">‰∏é Luna ÂØπËØù</div>
                        <div id="tarot-chat-rounds-display" class="chat-rounds-display"></div>
                    </div>
                    <div id="tarot-chat-limit-notice" class="chat-limit-notice" style="display: none;"></div>
                    <div id="tarot-chat-messages" class="chat-messages"></div>
                    <div class="chat-input-area">
                        <textarea 
                            id="tarot-chat-input" 
                            class="chat-input" 
                            placeholder="ÊÉ≥Ê∑±ÂÖ•‰∫ÜËß£Âì™‰∏™ÊñπÈù¢ÔºüÊàñÊúâÂÖ∂‰ªñÁñëÈóÆÔºü"
                            rows="2"
                        ></textarea>
                        <button id="tarot-chat-send" class="chat-send-btn">ÂèëÈÄÅ</button>
                    </div>
                </div>
                
                <!-- Ë°•ÁâåÂíåÂ§çÁõòÊåâÈíÆ -->
                <div class="tarot-action-buttons">
                    <button id="tarot-additional-card-btn" class="tarot-action-btn tarot-additional-card-btn">
                        <span class="btn-text">Ë°•Áâå</span>
                        <span id="tarot-additional-card-cooldown" class="btn-cooldown" style="display: none;"></span>
                    </button>
                    <button id="tarot-review-btn" class="tarot-action-btn tarot-review-btn">
                        <span class="btn-text">Â§çÁõò</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Ë°•ÁâåÂºπÁ™ó -->
        <div id="tarot-additional-card-modal" class="tarot-modal" style="display: none;">
            <div class="tarot-modal-backdrop"></div>
            <div class="tarot-modal-content">
                <div class="tarot-modal-header">
                    <h3 class="tarot-modal-title">Ë°•Áâå</h3>
                    <button class="tarot-modal-close" id="tarot-additional-card-close">‚úï</button>
                </div>
                <div class="tarot-modal-body">
                    <textarea 
                        id="tarot-additional-card-input" 
                        class="tarot-additional-card-input" 
                        placeholder="ÂèØÈÄâÔºöÊèèËø∞ÂΩìÂâçÊÉÖÂÜµÂèòÂåñ„ÄÅËΩ¨Êú∫ÊàñËÅöÁÑ¶ÁÇπ..."
                        rows="3"
                    ></textarea>
                    <div class="tarot-additional-card-draw-area">
                        <div id="tarot-additional-card-pile" class="tarot-card-pile-small">
                            <img src="Cards-png/CardBacks.png" alt="ÁâåÂ†Ü" class="pile-image-small">
                            <div class="pile-hint-small">ÁÇπÂáªÊäΩÁâå</div>
                        </div>
                    </div>
                    <div id="tarot-additional-card-result" class="tarot-additional-card-result" style="display: none;"></div>
                </div>
            </div>
        </div>
        
        <!-- Â§çÁõòÂºπÁ™ó -->
        <div id="tarot-review-modal" class="tarot-modal" style="display: none;">
            <div class="tarot-modal-backdrop"></div>
            <div class="tarot-modal-content tarot-review-modal-content">
                <div class="tarot-modal-header">
                    <h3 class="tarot-modal-title">Â§çÁõò</h3>
                    <button class="tarot-modal-close" id="tarot-review-close">‚úï</button>
                </div>
                <div class="tarot-modal-body">
                    <div class="tarot-review-scores">
                        <div class="tarot-review-score-item">
                            <label class="tarot-review-score-label">ÂëΩ‰∏≠ÊåáÊï∞</label>
                            <div class="tarot-review-stars" data-score="accuracy">
                                <span class="star" data-value="1">‚≠ê</span>
                                <span class="star" data-value="2">‚≠ê</span>
                                <span class="star active" data-value="3">‚≠ê</span>
                                <span class="star" data-value="4">‚≠ê</span>
                                <span class="star" data-value="5">‚≠ê</span>
                            </div>
                        </div>
                        <div class="tarot-review-score-item">
                            <label class="tarot-review-score-label">ÊåáÂºïÊåáÊï∞</label>
                            <div class="tarot-review-stars" data-score="guidance">
                                <span class="star" data-value="1">‚≠ê</span>
                                <span class="star" data-value="2">‚≠ê</span>
                                <span class="star active" data-value="3">‚≠ê</span>
                                <span class="star" data-value="4">‚≠ê</span>
                                <span class="star" data-value="5">‚≠ê</span>
                            </div>
                        </div>
                        <div class="tarot-review-score-item">
                            <label class="tarot-review-score-label">Ê∏©ÊöñÊåáÊï∞</label>
                            <div class="tarot-review-stars" data-score="warmth">
                                <span class="star" data-value="1">‚≠ê</span>
                                <span class="star" data-value="2">‚≠ê</span>
                                <span class="star active" data-value="3">‚≠ê</span>
                                <span class="star" data-value="4">‚≠ê</span>
                                <span class="star" data-value="5">‚≠ê</span>
                            </div>
                        </div>
                    </div>
                    <div class="tarot-review-comment">
                        <textarea 
                            id="tarot-review-comment-input" 
                            class="tarot-review-comment-input" 
                            placeholder="ÂèØÈÄâÔºöËÆ∞ÂΩï‰Ω†ÁöÑËØÑ‰ª∑ÂíåÊÑüËß¶..."
                            rows="4"
                        ></textarea>
                    </div>
                    <button id="tarot-review-submit-btn" class="tarot-review-submit-btn">Êèê‰∫§Â§çÁõò</button>
                    <div id="tarot-review-report" class="tarot-review-report" style="display: none;"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- È°µÈù¢5: ‰∏™‰∫∫Ê®°Âùó -->
    <div id="profile-page" class="page" style="display: none;">
        <div class="profile-content">
            <h1 class="page-title">‰∏™‰∫∫‰ø°ÊÅØ</h1>
            
            <!-- ‰∏™‰∫∫‰ø°ÊÅØÊòæÁ§∫Âå∫Âüü -->
            <div id="profile-info-container" class="profile-info-container" style="display: none;">
                <!-- Âä®ÊÄÅÁîüÊàê -->
            </div>
            
            <!-- Êú™Â°´ÂÜô‰ø°ÊÅØÊèêÁ§∫ -->
            <div id="profile-empty-container" class="profile-empty-container" style="display: none;">
                <div class="profile-empty-icon">üë§</div>
                <p class="profile-empty-text">ËøòÊ≤°ÊúâÂ°´ÂÜô‰∏™‰∫∫‰ø°ÊÅØ</p>
                <button id="profile-add-btn-empty" class="profile-add-btn">Ë°•ÂÖÖ‰∏™‰∫∫‰ø°ÊÅØ</button>
            </div>
        </div>
    </div>

    <!-- È°µÈù¢4: ‰∏ªÁïåÈù¢ÔºàÁªìÊûúÂ±ïÁ§∫Ôºâ -->
    <div id="main-page" class="page" style="display: none;">
        <!-- È°∂ÈÉ®Â§¥ÈÉ®Âå∫Âüü -->
        <div class="main-page-header">
            <div class="main-page-date-row">
            <div class="main-page-date" id="main-page-date">January 11</div>
                <div class="energy-points-display" id="energy-points-display">
                    <span class="energy-icon">üíß</span>
                    <span id="energy-points-value">0</span>
                </div>
            </div>
            <div class="main-page-right">
                <button id="add-profile-btn" class="add-profile-btn" style="display: none;">
                    Ë°•ÂÖÖ‰∏™‰∫∫‰ø°ÊÅØ
                </button>
                <div id="main-page-greeting" class="main-page-greeting" style="display: none;">
                    HiÔºå<span id="main-page-nickname"></span>
                </div>
            </div>
        </div>
        
        <!-- ‰ªäÊó•Âç†ÂçúÊåâÈíÆÔºàÂ¶ÇÊûúÊú™ÂÆåÊàêÔºâ -->
        <button id="start-daily-btn" class="start-daily-btn" style="display: none;">
            <span class="btn-icon">üîÆ</span>
            <span>ÂºÄÂßã‰ªäÊó•Âç†Âçú</span>
        </button>

        <div class="main-content">
            <!-- Âë®ÂéÜÊòæÁ§∫ -->
            <div class="weekly-calendar-container" id="weekly-calendar-container">
                <div class="weekly-calendar-grid" id="weekly-calendar-grid">
                    <!-- Âä®ÊÄÅÁîüÊàê -->
                </div>
            </div>
            
            <!-- 0. Á≤æÁÇºÊåáÂºïÔºàÂú®‰ªäÊó•ÊåáÂºïÊ®°Âùó‰∏äÊñπÔºâ -->
            <section class="concise-guidance-section">
                <p class="concise-guidance" id="concise-guidance"></p>
            </section>

            <!-- 1. ‰ªäÊó•ÊåáÂºïÂíåÂ°îÁΩóÁâåÔºàÂ∑¶Âè≥ÂàÜÂàóÔºâ -->
            <section class="moon-phase-section">
                <!-- Â∑¶‰æßÔºö‰ªäÊó•ÊåáÂºï -->
                <div class="guidance-left">
                    <h3 class="section-title">‰ªäÊó•ÊåáÂºï</h3>
                    <p class="guidance-one-line" id="guidance-one-line"></p>
                </div>
                <!-- Âè≥‰æßÔºöÂ°îÁΩóÁâå+ÊúàÁõ∏ÂõæÊ†á -->
                <div class="today-card" id="today-card-container" style="display: none;">
                    <div class="card-image-wrapper">
                        <img id="today-card-img" src="" alt="‰ªäÊó•Â°îÁΩó" class="today-card-img">
                        <div class="moon-emoji-overlay" id="moon-emoji">üåï</div>
                    </div>
                    <div class="today-card-name" id="today-card-name"></div>
                </div>
            </section>

            <!-- 3.5. ‰ªäÊó•ÂàÜÊûê -->
            <section class="today-analysis-section">
                <h3 class="section-title">‰ªäÊó•ÂàÜÊûê</h3>
                <div class="today-analysis-content" id="today-analysis-content"></div>
            </section>

            <!-- 3.6. ÂØüËßâ -->
            <section class="awareness-task-section">
                <h3 class="section-title">ÂØüËßâ</h3>
                <div class="awareness-task-card" id="awareness-task-card" style="display: none;">
                    <p class="task-text" id="awareness-task-text"></p>
                    <button id="awareness-select-btn" class="btn-complete" style="display: none;">
                        <span>ÈÄâÊã©</span>
                    </button>
                    <div class="task-completed" id="awareness-task-completed" style="display: none;">
                        <span class="checkmark">‚úì</span>
                        <span>Â∑≤ÂÆåÊàê</span>
                    </div>
                </div>
            </section>

            <!-- 4. ËÉΩÈáè Boost -->
            <section class="energy-boost-section">
                <div class="energy-boost-header">
                    <h3 class="section-title">ËÉΩÈáè Boost</h3>
                    <button class="energy-boost-refresh-btn" id="energy-boost-refresh-btn" onclick="handleEnergyBoostRefreshClick()">Êç¢‰∏Ä‰∏™‚ôªÔ∏è</button>
                </div>
                <div class="energy-boost-list" id="energy-boost-list"></div>
            </section>

            <!-- 5. ‰ªäÊó•Ê≠£ÂøµÂÜ•ÊÉ≥ -->
            <section class="mindfulness-section">
                <h3 class="section-title">‰ªäÊó•Ê≠£ÂøµÂÜ•ÊÉ≥</h3>
                <div class="mindfulness-image-container">
                    <img src="20260116-183218.jpg" alt="‰ªäÊó•Ê≠£ÂøµÂÜ•ÊÉ≥" class="mindfulness-image">
                </div>
            </section>

            <!-- 3.6. ÊÉÖÁª™ËÆ∞ÂΩï -->
            <section class="emotion-record-section">
                <button id="emotion-record-btn" class="emotion-record-btn">
                    <span>ÊÉÖÁª™ËÆ∞ÂΩï</span>
                </button>
            </section>

            <!-- 5. Êü•ÁúãÂêÑÈ¢ÜÂüüÊåáÂºï -->
            <section class="category-section">
                <h3 class="section-title">Êü•ÁúãÂêÑÈ¢ÜÂüüÊåáÂºï</h3>
                <div class="category-buttons">
                    <button class="category-btn" data-category="Áà±ÊÉÖ">Áà±ÊÉÖ</button>
                    <button class="category-btn" data-category="Ë¥¢ÂØå">Ë¥¢ÂØå</button>
                    <button class="category-btn" data-category="Â∑•‰Ωú">Â∑•‰Ωú</button>
                    <button class="category-btn" data-category="Â≠¶‰π†">Â≠¶‰π†</button>
                    <button class="category-btn" data-category="ÂÆ∂Â∫≠">ÂÆ∂Â∫≠</button>
                    <button class="category-btn" data-category="‰∫∫ÈôÖ">‰∫∫ÈôÖ</button>
                    <button class="category-btn" data-category="ÂÅ•Â∫∑">ÂÅ•Â∫∑</button>
                    <button class="category-btn" data-category="‰∫≤Â≠ê">‰∫≤Â≠ê</button>
                </div>
            </section>
            
            <!-- È¢ÜÂüüÊåáÂºïÊ®°ÊÄÅÊ°Ü -->
            <div id="category-modal" class="category-modal" style="display: none;">
                <div class="category-modal-overlay"></div>
                <div class="category-modal-content">
                    <div class="category-modal-header">
                        <h3 id="category-modal-title">È¢ÜÂüüÊåáÂºï</h3>
                        <button class="category-modal-close" id="category-modal-close">√ó</button>
                    </div>
                    <div class="category-modal-body">
                        <div id="category-modal-loading" class="category-modal-loading" style="display: none;">
                            <div class="loading-spinner"></div>
                            <p>Ê≠£Âú®ÁîüÊàêÊåáÂºï...</p>
                        </div>
                        <div id="category-modal-content" class="category-modal-text"></div>
                    </div>
                </div>
            </div>

            <!-- 6. ÊòüÂ∫ßÊòüÁõòÂàÜÊûê -->
            <section class="zodiac-horoscope-section">
                <div class="zodiac-horoscope-buttons">
                    <button id="zodiac-analysis-btn" class="zodiac-horoscope-btn">
                        <span class="zodiac-horoscope-icon" id="zodiac-icon">‚ú®</span>
                        <span class="zodiac-horoscope-text">ÊØèÊó•ÊòüÂ∫ß</span>
                    </button>
                    <button id="horoscope-analysis-btn" class="zodiac-horoscope-btn">
                        <span class="zodiac-horoscope-icon">üîÆ</span>
                        <span class="zodiac-horoscope-text">ÊòüÁõòÂàÜÊûê</span>
                    </button>
                </div>
                <!-- ÂàÜÊûêÁªìÊûúÂ±ïÁ§∫Âå∫Âüü -->
                <div class="zodiac-horoscope-content" id="zodiac-horoscope-content" style="display: none;">
                    <div class="zodiac-horoscope-result" id="zodiac-horoscope-result"></div>
                </div>
            </section>

            <!-- 7. ‰ªäÊó•Âπ∏ËøêÂÖÉÁ¥† -->
            <section class="lucky-elements-section">
                <h3 class="section-title">‰ªäÊó•Âπ∏ËøêÂÖÉÁ¥†</h3>
                <div class="lucky-elements">
                    <div class="lucky-item">
                        <div>
                            <div class="lucky-label">Âπ∏ËøêËâ≤</div>
                            <div class="lucky-value" id="lucky-color"></div>
                        </div>
                    </div>
                    <div class="lucky-item">
                        <div>
                            <div class="lucky-label">Âπ∏ËøêÊï∞Â≠ó</div>
                            <div class="lucky-value" id="lucky-number"></div>
                        </div>
                    </div>
                    <div class="lucky-item">
                        <div>
                            <div class="lucky-label">Âπ∏ËøêÊ§çÁâ©</div>
                            <div class="lucky-value" id="lucky-plant"></div>
                        </div>
                    </div>
                    <div class="lucky-item">
                        <div>
                            <div class="lucky-label">Âπ∏ËøêÁü≥</div>
                            <div class="lucky-value" id="lucky-stone"></div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        
        <!-- ÈáçÊñ∞Âç†ÂçúÊåâÈíÆÔºàÂõ∫ÂÆöÂú®Â∫ïÈÉ®Ôºâ -->
        <button id="reset-btn" class="reset-btn">
            <span class="btn-icon">üîÑ</span>
            <span>ÈáçÊñ∞Âç†Âçú</span>
        </button>
    </div>

    <!-- Êó•ÂéÜÊó•ÊúüËØ¶ÊÉÖÂºπÂ±Ç -->
    <div class="calendar-modal" id="calendar-day-modal" style="display: none;">
        <div class="calendar-modal-backdrop" id="calendar-modal-backdrop"></div>
        <div class="calendar-modal-sheet" role="dialog" aria-modal="true">
            <div class="calendar-modal-handle"></div>
            <div class="calendar-modal-header">
                <div class="calendar-modal-title" id="calendar-modal-title">January 7, 2026</div>
                <button class="calendar-modal-close" id="calendar-modal-close" aria-label="Close">‚úï</button>
            </div>
            <div class="calendar-modal-content" id="calendar-modal-content"></div>
        </div>
    </div>

    <!-- Miri ËÅäÂ§©È°µÈù¢ -->
    <div id="miri-page" class="page" style="display: none;">
        <div class="miri-container">
            <!-- ‰∏ªÈ¢òÂõæÂå∫Âüü -->
            <div class="miri-header-image">
                <img src="20260113-222035.jpg" alt="Miri" class="miri-theme-image">
            </div>
            
            <!-- ËÅäÂ§©ÊòæÁ§∫Âå∫ -->
            <div class="miri-chat-area" id="miri-chat-area">
                <!-- Ê∂àÊÅØÂ∞ÜÈÄöËøá JS Âä®ÊÄÅÊ∑ªÂä† -->
            </div>
            
            <!-- ËØùËØ≠ÊèêÁ§∫Âå∫ -->
            <div class="miri-suggestions" id="miri-suggestions">
                <button class="suggestion-btn" data-index="0">Âä†ËΩΩ‰∏≠...</button>
                <button class="suggestion-btn" data-index="1">Âä†ËΩΩ‰∏≠...</button>
            </div>
            
            <!-- Áî®Êà∑ËæìÂÖ•Âå∫ -->
            <div class="miri-input-area">
                <input 
                    type="text"
                    id="miri-input" 
                    class="miri-input-text" 
                    placeholder="Âíå Miri ËØ¥ÁÇπ‰ªÄ‰πà..."
                    maxlength="200"
                />
                <button id="miri-send-btn" class="miri-send-btn" disabled>ÂèëÈÄÅ</button>
            </div>
        </div>
    </div>

    <!-- ÊÉÖÁª™ËÆ∞ÂΩïÂºπÊùø -->
    <div class="emotion-record-modal" id="emotion-record-modal" style="display: none;">
        <div class="emotion-record-modal-backdrop" id="emotion-record-modal-backdrop"></div>
        <div class="emotion-record-modal-sheet">
            <div class="emotion-record-modal-header">
                <h3 class="emotion-record-modal-title">ÊÉÖÁª™ËÆ∞ÂΩï</h3>
                <button class="emotion-record-modal-close" id="emotion-record-modal-close">‚úï</button>
            </div>
            <div class="emotion-record-modal-content">
                <div class="current-emotion-section">
                    <div class="current-emotion-label">Ê≠§ÂàªÁä∂ÊÄÅ</div>
                    <div class="current-emotion-options">
                        <button class="current-emotion-btn" data-emotion="ÊÑâÊÇ¶">
                            <img src="weather/1.png" alt="ÊÑâÊÇ¶" class="current-emotion-icon">
                            <span>ÊÑâÊÇ¶</span>
                        </button>
                        <button class="current-emotion-btn" data-emotion="Âπ≥Èùô">
                            <img src="weather/2.png" alt="Âπ≥Èùô" class="current-emotion-icon">
                            <span>Âπ≥Èùô</span>
                        </button>
                        <button class="current-emotion-btn" data-emotion="Áñ≤ÊÉ´">
                            <img src="weather/3.png" alt="Áñ≤ÊÉ´" class="current-emotion-icon">
                            <span>Áñ≤ÊÉ´</span>
                        </button>
                        <button class="current-emotion-btn" data-emotion="Ëø∑Ëå´">
                            <img src="weather/4.png" alt="Ëø∑Ëå´" class="current-emotion-icon">
                            <span>Ëø∑Ëå´</span>
                        </button>
                        <button class="current-emotion-btn" data-emotion="ÁÑ¶Ëôë">
                            <img src="weather/5.png" alt="ÁÑ¶Ëôë" class="current-emotion-icon">
                            <span>ÁÑ¶Ëôë</span>
                        </button>
                        <button class="current-emotion-btn" data-emotion="Èõ®ËøáÂ§©Êô¥">
                            <img src="weather/6.png" alt="Èõ®ËøáÂ§©Êô¥" class="current-emotion-icon">
                            <span>Èõ®ËøáÂ§©Êô¥</span>
                        </button>
                    </div>
                </div>
                <div class="emotion-record-input-section">
                    <textarea 
                        id="emotion-record-modal-input" 
                        class="emotion-record-modal-textarea" 
                        placeholder="ËÆ∞ÂΩï‰ªäÊó•ÁöÑÂøÉÂ¢É„ÄÅ‰∫ã‰ª∂ÊàñÊÉ≥Ê≥ï...ÔºàÈÄâÂ°´Ôºâ"
                        rows="4"
                    ></textarea>
                </div>
                <div class="emotion-record-modal-actions">
                    <button id="save-emotion-record-modal-btn" class="emotion-record-modal-save-btn">
                        <span>üíæ ‰øùÂ≠ò</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ‰ªäÊó•Á≠æÂà∞ÂÆåÊàêÂºπÊùø -->
    <div class="checkin-toast" id="checkin-toast" style="display: none;">
        <div class="checkin-toast-card">
            <div class="checkin-toast-icon">üéâ</div>
            <div class="checkin-toast-title">‰ªäÊó•Á≠æÂà∞ÂÆåÊàê</div>
            <div class="checkin-toast-subtitle">‰Ω†ÂÆåÊàê‰∫Ü‰ªäÊó•Âç†Âçú</div>
            <div class="checkin-toast-streak" id="checkin-toast-streak"></div>
            <button class="checkin-toast-btn" id="checkin-toast-btn">Â§™Ê£í‰∫ÜÔºÅ</button>
        </div>
    </div>

    <!-- ‰∏™‰∫∫‰ø°ÊÅØË°•ÂÖÖÊ®°ÊÄÅÊ°Ü -->
    <div class="profile-modal" id="profile-modal" style="display: none;">
        <div class="profile-modal-backdrop" id="profile-modal-backdrop"></div>
        <div class="profile-modal-content">
            <div class="profile-modal-header">
                <h2 class="profile-modal-title">Ë°•ÂÖÖ‰∏™‰∫∫‰ø°ÊÅØ</h2>
                <button class="profile-modal-close" id="profile-modal-close">‚úï</button>
            </div>
            
            <!-- ËøõÂ∫¶ÊåáÁ§∫Âô® -->
            <div class="profile-progress">
                <div class="profile-progress-bar">
                    <div class="profile-progress-fill" id="profile-progress-fill"></div>
                </div>
                <div class="profile-progress-text" id="profile-progress-text">1/6</div>
            </div>
            
            <!-- Ë°®ÂçïÂÜÖÂÆπÂå∫Âüü -->
            <div class="profile-form-container" id="profile-form-container">
                <!-- Âä®ÊÄÅÁîüÊàê6Ê≠•Ë°®Âçï -->
            </div>
            
            <!-- ÂØºËà™ÊåâÈíÆ -->
            <div class="profile-form-actions" id="profile-form-actions">
                <!-- Âä®ÊÄÅÁîüÊàêÊåâÈíÆ -->
            </div>
        </div>
    </div>

    <!-- Â∫ïÈÉ®ÂØºËà™Ê†è -->
    <nav class="bottom-nav">
        <div class="nav-item" data-nav="calendar">
            <span class="nav-icon">üìÖ</span>
            <span class="nav-label">Êó•ÂéÜ</span>
        </div>
        <div class="nav-item" data-nav="tarot">
            <span class="nav-icon">üîÆ</span>
            <span class="nav-label">Â°îÁΩó</span>
        </div>
        <div class="nav-item active" data-nav="today">
            <span class="nav-icon">‚ú®</span>
            <span class="nav-label">‰ªäÊó•</span>
        </div>
        <div class="nav-item" data-nav="miri">
            <span class="nav-icon">‚òÅÔ∏è</span>
            <span class="nav-label">Miri</span>
            <span class="nav-badge" id="miri-nav-badge" style="display: none;"></span>
        </div>
        <div class="nav-item" data-nav="profile">
            <span class="nav-icon">üë§</span>
            <span class="nav-label">‰∏™‰∫∫</span>
        </div>
    </nav>

    <script src="js/card-intensity.js"></script>
    <script src="js/tarot-cards.js"></script>
    <script src="js/moon-phase.js"></script>
    <script src="js/zodiac.js"></script>
    <script src="js/user-profile.js"></script>
    <script src="js/profile-modal.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/lucky-elements-data.js"></script>
    <script src="js/lucky-elements.js"></script>
    <script src="js/energy-boost-tasks-data.js"></script>
    <script src="js/energy-boost.js?v=20260116"></script>
    <script src="js/api.js"></script>
    <script src="js/zodiac-horoscope.js"></script>
    <script src="js/tarot-storage.js"></script>
    <script src="js/tarot-spread.js"></script>
    <script src="js/tarot-chat.js"></script>
    <script src="js/tarot-module.js"></script>
    <script src="js/miri-chat.js?v=20260113"></script>
    <script src="js/ui.js?v=20260116"></script>
    <script src="js/main.js?v=20260113"></script>
</body>
</html>

